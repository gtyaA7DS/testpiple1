pipeline {
    agent none
    options {
        //retry(4)
        //timeout(time:3,unit:"SECONDS")
        timestamps()
        parallelsAlwaysFailFast()
      disableConcurrentBuilds(abortPrevious: true) 
     buildDiscarder(logRotator(numToKeepStr: '10'))

    }
    stages{
        
        stage('git clone'){
            agent {
                 node {
            label 'master'
             }
            }
              options {
                timeout(time: 3, unit: "SECONDS") // 局部选项
            }
            steps{
              
                sh "sleep 5"
            }
        }
        stage('build'){
              agent {
                 node {
            label 'master'
             }
            }
            steps{
                echo "build"
            }
        }
    }
    
    
}